<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ARO on Managed OpenShift Black Belt - Unofficial Documentation</title><link>https://mobb.ninja/tags/aro/</link><description>Recent content in ARO on Managed OpenShift Black Belt - Unofficial Documentation</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Wed, 26 Jul 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://mobb.ninja/tags/aro/index.xml" rel="self" type="application/rss+xml"/><item><title>ARO Quickstart</title><link>https://mobb.ninja/docs/quickstart-aro/</link><pubDate>Mon, 21 Jun 2021 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/quickstart-aro/</guid><description>A Quickstart guide to deploying an Azure Red Hat OpenShift cluster.
Video Walkthrough If you prefer a more visual medium, you can watch Paul Czarkowski walk through this quickstart on YouTube .
Prerequisites Azure CLI Obviously you&amp;rsquo;ll need to have an Azure account to configure the CLI against.
MacOS
See Azure Docs for alternative install options.
Install Azure CLI using homebrew
brew update &amp;amp;&amp;amp; brew install azure-cli Linux
See Azure Docs for alternative install options.</description></item><item><title>Deploying OpenShift API for Data Protection on an ARO cluster</title><link>https://mobb.ninja/docs/misc/oadp/aro/</link><pubDate>Wed, 26 Jul 2023 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/misc/oadp/aro/</guid><description>Prerequisites An ARO Cluster Getting Started Create the following environment variables, substituting appropriate values for your environment: export AZR_CLUSTER_NAME=oadp export AZR_SUBSCRIPTION_ID=$(az account show --query &amp;#39;id&amp;#39; -o tsv) export AZR_TENANT_ID=$(az account show --query &amp;#39;tenantId&amp;#39; -o tsv) export AZR_RESOURCE_GROUP=oadp export AZR_STORAGE_ACCOUNT_ID=oadp export AZR_STORAGE_CONTAINER=oadp export AZR_STORAGE_ACCOUNT_SP_NAME=oadp export AZR_IAM_ROLE=oadp Prepare Azure Account Create an Azure Storage Account as a backup target: az storage account create \ --name $AZR_STORAGE_ACCOUNT_ID \ --resource-group $AZR_RESOURCE_GROUP \ --sku Standard_GRS \ --encryption-services blob \ --https-only true \ --kind BlobStorage \ --access-tier Cool Create an Azure Blob storage container: az storage container create \ --name $AZR_STORAGE_CONTAINER \ --public-access off \ --account-name $AZR_STORAGE_ACCOUNT_ID Create a role definition that will allow the operator minimal permissions to access the storage account where the backups are stored: az role definition create --role-definition &amp;#39;{ &amp;#34;Name&amp;#34;: &amp;#34;&amp;#39;$AZR_IAM_ROLE&amp;#39;&amp;#34;, &amp;#34;Description&amp;#34;: &amp;#34;OADP related permissions to perform backups, restores and deletions&amp;#34;, &amp;#34;Actions&amp;#34;: [ &amp;#34;Microsoft.</description></item><item><title>Configure a Private ARO cluster with Azure File via a Private Endpoint</title><link>https://mobb.ninja/docs/aro/private_endpoint/</link><pubDate>Tue, 27 Jun 2023 22:07:09 +0000</pubDate><guid>https://mobb.ninja/docs/aro/private_endpoint/</guid><description>There are two way to configure this set up
Self provision the storage account and file share (static method) Requires pre-existing storage account and file share Auto provision the storage account and file share (dynamic method) CSI will create the storage account and file share WARNING please note that this approach does not work on FIPS-enabled clusters. This is due to the CIFS protocol being largely non-compliant with FIPS cryptographic requirements.</description></item><item><title>Using Azure Container Registry in Private ARO clusters</title><link>https://mobb.ninja/docs/aro/aro-acr/</link><pubDate>Thu, 08 Jun 2023 22:07:09 +0000</pubDate><guid>https://mobb.ninja/docs/aro/aro-acr/</guid><description>This guide describes how configure and deploy an Azure Container Registry, limiting the access to the registry and connecting privately from a Private ARO cluster, eliminating exposure from the public internet.
You can limit access to the ACR by assigning virtual network private IP addresses to the registry endpoints and using Azure Private Link .
Network traffic between the Private ARO cluster and the registry&amp;rsquo;s private endpoints traverses the virtual network and a private link on the Microsoft backbone network, eliminating exposure from the public internet.</description></item><item><title>What to consider when using Azure AD as IDP?</title><link>https://mobb.ninja/docs/idp/considerations-aad-ipd/</link><pubDate>Wed, 24 May 2023 18:50:00 +0000</pubDate><guid>https://mobb.ninja/docs/idp/considerations-aad-ipd/</guid><description>Author: Ricardo Macedo Martins May 24, 2023
In this guide, we will discuss key considerations when using Azure Active Directory (AAD) as the Identity Provider (IDP) for your ARO or ROSA cluster. Below are some helpful references:
Configure ARO to Use Azure AD Configuring IDP for ROSA, OSD, and ARO Default Access for All Users in Azure Active Directory Once you set up AAD as the IDP for your cluster, it&amp;rsquo;s important to note that by default, all users in your Azure Active Directory instance will have access to the cluster.</description></item><item><title>Deploy ACM Submariner for connect overlay networks ARO - ROSA clusters</title><link>https://mobb.ninja/docs/redhat/acm/submariner/aro/</link><pubDate>Tue, 25 Apr 2023 22:07:09 +0000</pubDate><guid>https://mobb.ninja/docs/redhat/acm/submariner/aro/</guid><description>Submariner is an open source tool that can be used with Red Hat Advanced Cluster Management for Kubernetes to provide direct networking between pods and compatible multicluster service discovery across two or more Kubernetes clusters in your environment, either on-premises or in the cloud.
This article describes how to deploy ACM Submariner for connecting overlay networks of ARO and ROSA clusters.
NOTE: Submariner for connecting ARO and ROSA clusters only works from ACM 2.</description></item><item><title>Configure Azure AD as an OIDC identity provider for ARO with cli</title><link>https://mobb.ninja/docs/idp/azuread-aro-cli/</link><pubDate>Fri, 31 Mar 2023 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/idp/azuread-aro-cli/</guid><description>The steps to add Azure AD as an identity provider for Azure Red Hat OpenShift (ARO) via cli are:
Prerequisites Have Azure cli installed Login to Azure Azure Define needed variables Get oauthCallbackURL Create &amp;lt;code&amp;gt;manifest.json&amp;lt;/code&amp;gt; file to configure the Azure Active Directory application Register/create app Add Service Principal for the new app Make Service Principal an Enterprise Application Create the client secret Update the Azure AD application scope permissions Get Tenant ID OpenShift Login to OpenShift as kubeadmin Create an OpenShift secret### Apply OpenShift OpenID authentication Wait for authentication operator to roll out Verify login through Azure Active Directory Last steps Prerequisites Have Azure cli installed Follow the Microsoft instuctions: https://docs.</description></item><item><title>Red Hat Cost Management for Cloud Services</title><link>https://mobb.ninja/docs/misc/cost-management/</link><pubDate>Wed, 29 Mar 2023 22:07:09 +0000</pubDate><guid>https://mobb.ninja/docs/misc/cost-management/</guid><description>Adopted from Official Documentation for Cost Management Service Red Hat Cost Management is a software as a service (SaaS) offering available free of charge as part of your Red Hat subscriptions. Cost management helps you monitor and analyze your OpenShift Container Platform and Public cloud costs in order to improve the management of your business.
Some capabilities of cost management are :
Visualize costs across hybrid cloud infrastructure Track cost trends Map charges to projects and organizations Normalize data and add markups with cost models Generate showback and chargeback information In this document, I will show you how to connect your OpenShift and Cloud provider sources to Cost Management in order to collect cost and usage.</description></item><item><title>Azure Front Door with ARO ( Azure Red Hat OpenShift )</title><link>https://mobb.ninja/docs/aro/frontdoor/</link><pubDate>Wed, 29 Mar 2023 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/frontdoor/</guid><description>Securing exposing an Internet facing application with a private ARO Cluster.
When you create a cluster on ARO you have several options in making the cluster public or private. With a public cluster you are allowing Internet traffic to the api and *.apps endpoints. With a private cluster you can make either or both the api and .apps endpoints private.
How can you allow Internet access to an application running on your private cluster where the .</description></item><item><title>Setup a VPN Connection into an ARO Cluster with OpenVPN</title><link>https://mobb.ninja/docs/aro/vpn/</link><pubDate>Wed, 29 Mar 2023 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/vpn/</guid><description>When you configure an Azure Red Hat OpenShift (ARO) cluster with a private only configuration, you will need connectivity to this private network in order to access your cluster. This guide will show you how to configute a point-to-site VPN connection so you won&amp;rsquo;t need to setup and configure Jump Boxes.
Prerequisites a private ARO Cluster git openssl Create certificates to use for your VPN Connection There are many ways and methods to create certificates for VPN, the guide below is one of the ways that works well.</description></item><item><title>Using Cluster Logging Forwarder in ARO with Azure Monitor</title><link>https://mobb.ninja/docs/aro/clf-to-azure/</link><pubDate>Sun, 26 Mar 2023 22:07:09 +0000</pubDate><guid>https://mobb.ninja/docs/aro/clf-to-azure/</guid><description>In Azure Red Hat OpenShift (ARO) you can fairly easily set up cluster logging to an in-cluster Elasticsearch using the OpenShift Elasticsearch Operator and the Cluster Logging Operator, but what if you want to use the Azure native Log Analytics service?
There&amp;rsquo;s a number of ways to do this, for example installing agents onto the VMs (in this case, it would be a DaemonSet with hostvar mounts) but that isn&amp;rsquo;t ideal in a managed system like ARO.</description></item><item><title>Azure DevOps with Managed OpenShift</title><link>https://mobb.ninja/docs/misc/azure-dev-ops-with-managed-openshift/</link><pubDate>Tue, 14 Mar 2023 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/misc/azure-dev-ops-with-managed-openshift/</guid><description>Author: Kevin Collins
Last edited: 03/14/2023
Adopted from Hosting an Azure Pipelines Build Agent in OpenShift and Kevin Chung Azure Pipelines OpenShift example Azure DevOps is a very popular DevOps tool that has a host of features including the ability for developers to create CI/CD pipelines.
In this document, I will show you how to connect your Managed OpenShift Cluster to Azure DevOps end-to-end including running the pipeline build process in the cluster, setting up the OpenShift internal image registry to store the images, and then finally deploy a sample application.</description></item><item><title>Upgrade a disconnected ARO cluster</title><link>https://mobb.ninja/docs/aro/upgrade-disconnected-aro/</link><pubDate>Mon, 06 Mar 2023 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/upgrade-disconnected-aro/</guid><description>Background One of the great features of ARO is that you can create &amp;lsquo;disconnected&amp;rsquo; clusters with no connectivity to the Internet. Out of the box, the ARO service mirrors all the code repositories to build OpenShift clusters to Azure Container Registry. This means ARO is built without having to reach out to the Internet as the images to build OpenShift are pulled via the Azure private network.
When you upgrade a cluster, OpenShift needs to call out to the Internet to get an upgrade graph to see what options you have to upgrade the cluster.</description></item><item><title>Assign Consistent Egress IP for External Traffic</title><link>https://mobb.ninja/docs/rosa/egress-ip/</link><pubDate>Tue, 28 Feb 2023 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/rosa/egress-ip/</guid><description>It may be desirable to assign a consistent IP address for traffic that leaves the cluster when configuring items such as security groups or other sorts of security controls which require an IP-based configuration. By default, Kubernetes via the OVN-Kubernetes CNI will assign random IP addresses from a pool which will make configuring security lockdowns unpredictable or unnecessarily open. This guide shows you how to configure a set of predictable IP addresses for egress cluster traffic to meet common security standards and guidance and other potential use cases.</description></item><item><title>Helm Chart to set up extra MachineSets on ARO clusters</title><link>https://mobb.ninja/docs/aro/aro-machinesets/readme/</link><pubDate>Thu, 08 Dec 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/aro-machinesets/readme/</guid><description>Please refer to the The Managed OpenShift Black Belt team maintained Helm chart at here .</description></item><item><title>Integrating Azure ARC with ARO</title><link>https://mobb.ninja/docs/aro/azure-arc-integration/</link><pubDate>Fri, 04 Nov 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/azure-arc-integration/</guid><description>This document explain how to integrate ARO cluster with Azure Arc-enabled Kubernetes. When you connect a Kubernetes/OpenShift cluster with Azure Arc, it will:
Be represented in Azure Resource Manager with a unique ID Be placed in an Azure subscription and resource group Receive tags just like any otherAzure resource Azure Arc-enabled Kubernetes supports the following scenarios for connected clusters:
Connect Kubernetes running outside of Azure for inventory, grouping, and tagging. Deploy applications and apply configuration using GitOps-based configuration management.</description></item><item><title>Deploying Red Hat Advanced Cluster Security in ARO/ROSA</title><link>https://mobb.ninja/docs/redhat/rhacs/</link><pubDate>Thu, 06 Oct 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/redhat/rhacs/</guid><description>This document is based in the RHACS workshop and in the RHACS official documentation .
Prerequisites An ARO cluster or a ROSA cluster . Set up the OpenShift CLI (oc) Download the OS specific OpenShift CLI from Red Hat Unzip the downloaded file on your local machine
Place the extracted oc executable in your OS path or local directory
Login to ARO / ROSA Login to your ARO / ROSA clusters with user with cluster-admin privileges.</description></item><item><title>Shipping logs and metrics to Azure Blob storage</title><link>https://mobb.ninja/docs/aro/shipping-logs-and-metrics-to-azure-blob/</link><pubDate>Sat, 01 Oct 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/shipping-logs-and-metrics-to-azure-blob/</guid><description>Azure Red Hat Openshift clusters have built in metrics and logs that can be viewed by both Administrators and Developers via the OpenShift Console. But there are many reasons you might want to store and view these metrics and logs from outside of the cluster.
The OpenShift developers have anticipated this needs and have provided ways to ship both metrics and logs outside of the cluster. In Azure we have the Azure Blob storage service which is perfect for storing the data.</description></item><item><title>Configure ARO to use Azure AD</title><link>https://mobb.ninja/docs/idp/azuread-aro/</link><pubDate>Fri, 23 Sep 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/idp/azuread-aro/</guid><description>This guide demonstrates how to configure Azure AD as the cluster identity provider in Azure Red Hat OpenShift. This guide will walk through the creation of an Azure Active Directory (Azure AD) application and configure Azure Red Hat OpenShift (ARO) to authenticate using Azure AD.
This guide will walk through the following steps:
Register a new application in Azure AD for authentication. Configure the application registration in Azure AD to include optional claims in tokens.</description></item><item><title>Azure Service Operator V1 in ARO</title><link>https://mobb.ninja/docs/aro/azure-service-operator/v1/</link><pubDate>Mon, 19 Sep 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/azure-service-operator/v1/</guid><description>The Azure Service Operator (ASO) provides Custom Resource Definitions (CRDs) for Azure resources that can be used to create, update, and delete Azure services from an OpenShift cluster.
This example uses ASO V1, which has now been replaced by ASO V2. ASO V2 does not (as of 5/19/2022) yet have an entry in the OCP OperatorHub, but is functional and should be preferred for use, especially if V1 isn&amp;rsquo;t already installed on a cluster.</description></item><item><title>Azure Service Operator V2 in ARO</title><link>https://mobb.ninja/docs/aro/azure-service-operator/v2/</link><pubDate>Mon, 19 Sep 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/azure-service-operator/v2/</guid><description>The Azure Service Operator (ASO) provides Custom Resource Definitions (CRDs) for Azure resources that can be used to create, update, and delete Azure services from an OpenShift cluster.
This example uses ASO V2, which is a replacement for ASO V1. Equivalent documentation for ASO V1 can be found here . For new installs, V2 is recommended. MOBB has not tested running them in parallel.
Prerequisites Azure CLI An Azure Red Hat OpenShift (ARO) cluster The helm CLI tool Prepare your Azure Account and ARO Cluster Install cert-manager:</description></item><item><title>Setting up Quay on an ARO cluster via Console</title><link>https://mobb.ninja/docs/aro/setup-quay/quay-console/</link><pubDate>Mon, 19 Sep 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/setup-quay/quay-console/</guid><description>Red Hat Quay setup on ARO (Azure Openshift) A guide to deploying an Azure Red Hat OpenShift Cluster with Red Hat Quay.
Author: [Kristopher White x Connor Wooley]
Video Walkthrough If you prefer a more visual medium, you can watch [Kristopher White] walk through Quay Registry Storage Setup on YouTube .
Red Hat Quay Setup Backend Storage Setup Login to Azure Search/Click Create Resource Groups
Name Resource Group &amp;gt; Click Review + Create &amp;gt; Click Create</description></item><item><title>Adding infrastructure nodes to an ARO cluster</title><link>https://mobb.ninja/docs/aro/add-infra-nodes/</link><pubDate>Wed, 17 Aug 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/add-infra-nodes/</guid><description>This document shows how to set up infrastructure nodes in an ARO cluster and move infrastructure related workloads to them. This can help with larger clusters that have resource contention between user workloads and infrastructure workloads such as Prometheus.
Important note: Infrastructure nodes are billed at the same rates as your existing ARO worker nodes.
You can find the original (and more detailed) document describing the process for a self-managed OpenShift Container Platform cluster here Prerequisites Azure Red Hat OpenShift cluster Helm CLI Create Infra Nodes We&amp;rsquo;ll use the MOBB Helm Chart for adding ARO machinesets which defaults to creating infra nodes, it looks up an existing machineset to collect cluster specific settings and then creates a new machineset specific for infra nodes with the same settings.</description></item><item><title>Apply Azure Policy to Azure Policy</title><link>https://mobb.ninja/docs/aro/azure-policy/</link><pubDate>Mon, 25 Jul 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/azure-policy/</guid><description>Azure Policy helps to enforce organizational standards and to assess compliance at-scale. Azure Policy supports arc enabled kubernetes cluster with both build-in and custom policies to ensure kubernetes resources are compliant. This article demonstrates how to make Azure Redhat Openshift cluster compliant with azure policy.
Prerequisites Azure CLI Openshift CLI Azure Openshift Cluster (ARO Cluster) Deploy Azure Policy Deploy Azure Arc and Enable Azure Policy Add-on az connectedk8s connect -n [Cluster_Name] -g [Resource_Group_Name] az k8s-extension create --cluster-type connectedClusters --cluster-name [Cluster_Name] --resource-group [Resource_Group_Name] --extension-type Microsoft.</description></item><item><title>Setting up Quay on an ARO cluster via CLI</title><link>https://mobb.ninja/docs/aro/setup-quay/quay-cli/</link><pubDate>Mon, 25 Jul 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/setup-quay/quay-cli/</guid><description>Pre Requisites An ARO cluster oc cli azure cli Steps Create Azure Resources Create Storage Account
az login az group create --name &amp;lt;resource-group&amp;gt; --location &amp;lt;location&amp;gt; az storage account create --name &amp;lt;storage-account&amp;gt; --resource-group &amp;lt;resource-group&amp;gt; \ --location eastus --sku Standard_LRS --kind StorageV2 Create Storage Container
az storage account keys list --account-name &amp;lt;storage_account_name&amp;gt; --resource-group &amp;lt;resource_group&amp;gt; --output yaml Note: this command returns a json by default with your keyName and Values, command above specifies yaml</description></item><item><title>Accessing the Internal Registry from ARO</title><link>https://mobb.ninja/docs/aro/registry/</link><pubDate>Tue, 28 Jun 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/registry/</guid><description>Kevin Collins
06/28/2022
One of the advantages of using OpenShift is the internal registry that comes with OpenShfit to build, deploy and manage container images locally. By default, access to the registry is limited to the cluster ( by design ) but can be extended to usage outside of the cluster. This guide will go through the steps required to access the OpenShift Registry on an ARO cluster outside of the cluster.</description></item><item><title>Configure ARO with OpenShift Data Foundation</title><link>https://mobb.ninja/docs/aro/odf/</link><pubDate>Tue, 28 Jun 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/odf/</guid><description>NOTE: This guide demonstrates how to setup and configure self-managed OpenShift Data Foundation in Internal Mode on an ARO Cluster and test it out.
Prerequisites An Azure Red Hat OpenShift cluster ( verion 4.10+ ) kubectl cli oc cli moreutils (sponge) jq Install compute nodes for ODF A best practice for optimal performance is to run ODF on dedicated nodes with a minimum of one per zone. In this guide, we will be provisioning 3 additional compute nodes, one per zone.</description></item><item><title>ARO with Nvidia GPU Workloads</title><link>https://mobb.ninja/docs/aro/gpu/</link><pubDate>Wed, 22 Jun 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/gpu/</guid><description>ARO guide to running Nvidia GPU workloads.
Prerequisites oc cli jq, moreutils, and gettext package ARO 4.10 If you need to install an ARO cluster, please read our ARO Quick start guide . Please be sure if you&amp;rsquo;re installing or using an existing ARO cluster that it is 4.10.x or higher.
As of OpenShift 4.10, it is no longer necessary to set up entitlements to use the nVidia Operator. This has greatly simplified the setup of the cluster for GPU workloads.</description></item><item><title>ARO Custom domain with cert-manager and LetsEncrypt</title><link>https://mobb.ninja/docs/aro/cert-manager/</link><pubDate>Sun, 19 Jun 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/cert-manager/</guid><description>ARO guide to deploying an ARO cluster with custom domain and automating certificate management with cert-manager and letsencrypt certificates to manage the *.apps and api endpoints.
Prerequisites az cli (already installed in Azure Cloud Shell) oc cli jq (already installed in Azure Cloud Shell) OpenShift 4.10+ domain name to use (we will create zones for this domain name during this guide) I&amp;rsquo;m going to be running this setup through Bash on the Azure Cloud Shell.</description></item><item><title>ARO IBM Cloud Paks 4 Data</title><link>https://mobb.ninja/docs/aro/ibm-cloud-paks-for-data/</link><pubDate>Wed, 15 Jun 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/ibm-cloud-paks-for-data/</guid><description>A Quickstart guide to deploying an Azure Red Hat OpenShift cluster with IBM Cloud Paks 4 Data.
Video Walkthrough If you prefer a more visual medium, you can watch [Kristopher White] walk through this quickstart on YouTube .
Prerequisites Azure CLI Obviously you&amp;rsquo;ll need to have an Azure account to configure the CLI against.
MacOS
See Azure Docs for alternative install options.
Install Azure CLI using homebrew
brew update &amp;amp;&amp;amp; brew install azure-cli Linux</description></item><item><title>Trident NetApp operator setup for Azure NetApp files</title><link>https://mobb.ninja/docs/aro/trident/</link><pubDate>Mon, 23 May 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/trident/</guid><description>Note: This guide a simple &amp;ldquo;happy path&amp;rdquo; to show the path of least friction to showcasing how to use NetApp files with Azure Red Hat OpenShift. This may not be the best behavior for any system beyond demonstration purposes.
Prerequisites An Azure Red Hat OpenShift cluster installed with Service Principal role/credentials. kubectl cli oc cli helm 3 cli Review official trident documentation In this guide, you will need service principal and region details.</description></item><item><title>Enable the Managed Upgrade Operator in ARO and schedule Upgrades</title><link>https://mobb.ninja/docs/aro/managed-upgrade-operator/</link><pubDate>Tue, 12 Apr 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/managed-upgrade-operator/</guid><description>Prerequisites an Azure Red Hat OpenShift cluster Get Started Run this oc command to enable the Managed Upgrade Operator (MUO)
oc patch cluster.aro.openshift.io cluster --patch \ &amp;#39;{&amp;#34;spec&amp;#34;:{&amp;#34;operatorflags&amp;#34;:{&amp;#34;rh.srep.muo.enabled&amp;#34;: &amp;#34;true&amp;#34;,&amp;#34;rh.srep.muo.managed&amp;#34;: &amp;#34;true&amp;#34;,&amp;#34;rh.srep.muo.deploy.pullspec&amp;#34;:&amp;#34;arosvc.azurecr.io/managed-upgrade-operator@sha256:f57615aa690580a12c1e5031ad7ea674ce249c3d0f54e6dc4d070e42a9c9a274&amp;#34;}}}&amp;#39; \ --type=merge Wait a few moments to ensure the Management Upgrade Operator is ready
oc -n openshift-managed-upgrade-operator \ get deployment managed-upgrade-operator NAME READY UP-TO-DATE AVAILABLE AGE managed-upgrade-operator 1/1 1 1 2m2s Configure the Managed Upgrade Operator
cat &amp;lt;&amp;lt; EOF | oc apply -f - apiVersion: v1 kind: ConfigMap metadata: name: managed-upgrade-operator-config namespace: openshift-managed-upgrade-operator data: config.</description></item><item><title>Adding an additional ingress controller to an ARO cluster</title><link>https://mobb.ninja/docs/aro/additional-ingress-controller/</link><pubDate>Sat, 19 Mar 2022 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/additional-ingress-controller/</guid><description>Prerequisites an Azure Red Hat OpenShift cluster a DNS zone that you can easily modify Get Started Create some environment variables
DOMAIN=custom.azure.mobb.ninja EMAIL=example@email.com SCRATCH_DIR=/tmp/aro Create a certificate for the ingress controller
certbot certonly --manual \ --preferred-challenges=dns \ --email $EMAIL \ --server https://acme-v02.api.letsencrypt.org/directory \ --agree-tos \ --manual-public-ip-logging-ok \ -d &amp;#34;*.$DOMAIN&amp;#34; \ --config-dir &amp;#34;$SCRATCH_DIR/config&amp;#34; \ --work-dir &amp;#34;$SCRATCH_DIR/work&amp;#34; \ --logs-dir &amp;#34;$SCRATCH_DIR/logs&amp;#34; Create a secret for the certificate
oc create secret tls custom-tls \ -n openshift-ingress \ --cert=$SCRATCH_DIR/config/live/$DOMAIN/fullchain.</description></item><item><title>Configuring IDP for ROSA, OSD and ARO</title><link>https://mobb.ninja/docs/idp/</link><pubDate>Fri, 29 Oct 2021 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/idp/</guid><description>Red Hat OpenShift on AWS (ROSA) and OpenShift Dedicated (OSD) provide a simple way for the cluster administrator to configure one or more identity providers for their cluster[s] via the OpenShift Cluster Manager (OCM) , while Azure Red Hat OpenShift relies on the internal cluster authentication operator .
The identity providers available for use are:
GitHub GitLab Google LDAP OpenID HTPasswd Configuring Specific Identity Providers ARO GitLab Azure AD Azure AD with Group Claims Azure AD via CLI Azure AD with Red Hat SSO ROSA/OSD GitLab Azure AD Azure AD with Group Claims (ROSA Only) Configuring Group Synchronization Using Group Sync Operator with Azure Active Directory and ROSA/OSD Using Group Sync Operator with Okta and ROSA/OSD</description></item><item><title>Registering an ARO cluster to OpenShift Cluster Manager</title><link>https://mobb.ninja/docs/aro/ocm/</link><pubDate>Tue, 21 Sep 2021 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/ocm/</guid><description>Registering an ARO cluster to OpenShift Cluster Manager ARO clusters do not come connected to OpenShift Cluster Manager by default, because Azure would like customers to specifically opt-in to connections / data sent outside of Azure. This is the case with registering to OpenShift cluster manager, which enables a telemetry service in ARO.
Prerequisites An Red Hat account. If you have any subscriptions with Red Hat, you will have a Red Hat account.</description></item><item><title>Installing the HashiCorp Vault Secret CSI Driver</title><link>https://mobb.ninja/docs/misc/secrets-store-csi/hashicorp-vault/</link><pubDate>Wed, 18 Aug 2021 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/misc/secrets-store-csi/hashicorp-vault/</guid><description>The HashiCorp Vault Secret CSI Driver allows you to access secrets stored in HashiCorp Vault as Kubernetes Volumes.
Prerequisites An OpenShift Cluster (ROSA, ARO, OSD, and OCP 4.x all work) kubectl helm v3 Installing the Kubernetes Secret Store CSI Create an OpenShift Project to deploy the CSI into
oc new-project k8s-secrets-store-csi Set SecurityContextConstraints to allow the CSI driver to run (otherwise the DaemonSet will not be able to create Pods)</description></item><item><title>Installing the Kubernetes Secret Store CSI on OpenShift</title><link>https://mobb.ninja/docs/misc/secrets-store-csi/</link><pubDate>Wed, 18 Aug 2021 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/misc/secrets-store-csi/</guid><description>The Kubernetes Secret Store CSI is a storage driver that allows you to mount secrets from external secret management systems like HashiCorp Vault and AWS Secrets.
It comes in two parts, the Secret Store CSI, and a Secret provider driver. This document covers just the CSI itself.
Prerequisites An OpenShift Cluster (ROSA, ARO, OSD, and OCP 4.x all work) kubectl helm v3 Installing the Kubernetes Secret Store CSI Create an OpenShift Project to deploy the CSI into</description></item><item><title>Azure Key Vault CSI on Azure Red Hat OpenShift</title><link>https://mobb.ninja/docs/misc/secrets-store-csi/azure-key-vault/</link><pubDate>Mon, 16 Aug 2021 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/misc/secrets-store-csi/azure-key-vault/</guid><description>This document is adapted from the Azure Key Vault CSI Walkthrough specifically to run with Azure Red Hat OpenShift (ARO).
Prerequisites An ARO cluster The AZ CLI (logged in) The OC CLI (logged in) Helm 3.x CLI Environment Variables Run this command to set some environment variables to use throughout
Note if you created the cluster from the instructions linked above these will re-use the same environment variables, or default them to openshift and eastus.</description></item><item><title>ARO - Considerations for Disaster Recovery</title><link>https://mobb.ninja/docs/aro/disaster-recovery/</link><pubDate>Thu, 15 Jul 2021 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/disaster-recovery/</guid><description>This is a high level overview of disaster recovery options for Azure Red Hat OpenShift. It is not a detailed design, but rather a starting point for a more detailed design.
What is Disaster Recovery (DR) Disaster Recovery is an umbrella term that includes the following:
Backup (and restore!) Failover (and failback!) High Availability Disaster Avoidence The most important part of Disaster Recovery is the &amp;ldquo;Recovery&amp;rdquo;. Whatever your DR plan it must be tested and ideally performed on a semi-regular basis.</description></item><item><title>Private ARO Cluster with access via JumpHost</title><link>https://mobb.ninja/docs/aro/private-cluster/</link><pubDate>Tue, 29 Jun 2021 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/private-cluster/</guid><description>A Quickstart guide to deploying a Private Azure Red Hat OpenShift cluster.
Once the cluster is running you will need a way to access the private network that ARO is deployed into.
Authors: Paul Czarkowski , Ricardo Macedo Martins Prerequisites Azure CLI Obviously you&amp;rsquo;ll need to have an Azure account to configure the CLI against.
MacOS
See Azure Docs for alternative install options.
Install Azure CLI using homebrew
brew update &amp;amp;&amp;amp; brew install azure-cli Install sshuttle using homebrew</description></item><item><title>Using the Egressip Ipam Operator with a Private ARO Cluster</title><link>https://mobb.ninja/docs/aro/egress-ipam-operator/</link><pubDate>Tue, 29 Jun 2021 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/egress-ipam-operator/</guid><description>Note This guide is only valid for ARO clusters created on version 4.10 or earlier.
Clusters created on version 4.11 and later use OVNKubernetes as their Container Network Interface, and egressip-ipam-operator does not support OVNKubernetes. Please see EgressIP as a possible alternative.
Prerequisites A private ARO cluster that uses OpenShift SDN as its CNI Deploy the Egressip Ipam Operator Via GUI Log into the ARO cluster&amp;rsquo;s Console
Switch to the Administrator view</description></item><item><title>Demonstrate GitOps on Managed OpenShift with ArgoCD</title><link>https://mobb.ninja/docs/redhat/gitops/</link><pubDate>Thu, 17 Jun 2021 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/redhat/gitops/</guid><description>Author: Steve Mirman Video Walkthrough If you prefer a more visual medium, you can watch Steve Mirman walk through this quickstart on YouTube .
The purpose of this document is to help you get OpenShift GitOps running in your cluster, including deploying a sample application and demonstrating how ArgoCD ensures environment consistency.
This demo assumes you have a Managed OpenShift Cluster available and cluster-admin rights.
GitHub resources referenced in the demo: BGD Application: gitops-bgd-app OpenShift / ArgoCD configuration: gitops-demo Required command line (CLI) tools GitHub: git OpenShift: oc ArgoCD: argocd Kustomize: kam Environment Set Up Install the OpenShift GitOps operator Install the OpenShift GitOps operator from the Operator Hub</description></item><item><title>Federating System and User metrics to Azure Files in Azure Red Hat OpenShift</title><link>https://mobb.ninja/docs/aro/federated-metrics/</link><pubDate>Fri, 04 Jun 2021 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/federated-metrics/</guid><description>By default Azure Red Hat OpenShift (ARO) stores metrics in Ephemeral volumes, and its advised that users do not change this setting. However its not unreasonable to expect that metrics should be persisted for a set amount of time.
This guide shows how to set up Thanos to federate both System and User Workload Metrics to a Thanos gateway that stores the metrics in Azure Files and makes them available via a Grafana instance (managed by the Grafana Operator).</description></item><item><title>Installing Astronomer on a private ARO cluster</title><link>https://mobb.ninja/docs/aro/astronomer/</link><pubDate>Mon, 24 May 2021 00:00:00 +0000</pubDate><guid>https://mobb.ninja/docs/aro/astronomer/</guid><description>see here for public clusters.
This assumes you&amp;rsquo;ve already got a private ARO cluster installed. You could also follow the same instructions to create a public Astronomer, just use a regular DNS zone and skip the private parts.
A default 3-node cluster is a bit small for Astronomer, If you have a three node cluster you can increase it by updating the replicas count machinesets in the openshift-machine-api namespace.</description></item></channel></rss>